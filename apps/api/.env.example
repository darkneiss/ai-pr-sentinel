API_PORT=3000
NODE_ENV=development

# SCM provider configuration (provider adapters are infrastructure-specific).
# Supported now: github
SCM_PROVIDER=github
SCM_TOKEN=your_scm_token
SCM_BOT_LOGIN=ai-pr-sentinel[bot]
# Shared secret used to verify webhook signatures (optional in dev).
SCM_WEBHOOK_SECRET=
# Local webhook tunnel configuration (Smee or compatible proxy URL).
# Required by `pnpm tunnel:local`.
# WEBHOOK_TUNNEL_URL=https://smee.io/YOUR_CHANNEL
# Optional override. Fallback is `/webhooks/${SCM_PROVIDER}`.
# WEBHOOK_TUNNEL_PATH=/webhooks/github
# Optional override: true | false
# SCM_WEBHOOK_VERIFY_SIGNATURE=
# Optional ingress controls:
# SCM_WEBHOOK_ALLOWED_REPOSITORIES=org/repo,org/another-repo
# SCM_WEBHOOK_STRICT_REPOSITORY_ALLOWLIST=false
# SCM_WEBHOOK_REQUIRE_DELIVERY_ID=false
# SCM_WEBHOOK_DELIVERY_TTL_SECONDS=86400
# Production security baseline:
# - SCM_WEBHOOK_ALLOWED_REPOSITORIES must include at least one repository
# - SCM_WEBHOOK_STRICT_REPOSITORY_ALLOWLIST must be true
# - SCM_WEBHOOK_REQUIRE_DELIVERY_ID must be true

# Logging: debug | info | warn | error
LOG_LEVEL=debug
LLM_LOG_RAW_RESPONSE=false

# AI triage toggle
AI_TRIAGE_ENABLED=true

# Optional global AI temperature override (0..1). Applies to all providers
# when prompt config does not define temperature.
# Fallback when empty: 0.1
AI_TEMPERATURE=0.1

# Optional mapping: AI semantic kind -> GitHub labels used by your repository.
# Fallbacks when empty:
# - AI_LABEL_KIND_BUG -> kind/bug
# - AI_LABEL_KIND_FEATURE -> kind/feature
# - AI_LABEL_KIND_QUESTION -> kind/question
AI_LABEL_KIND_BUG=bug
AI_LABEL_KIND_FEATURE=enhancement
AI_LABEL_KIND_QUESTION=question

# Optional mapping: AI curation recommendations -> GitHub labels.
# Fallbacks when empty:
# - AI_LABEL_DOCUMENTATION -> documentation
# - AI_LABEL_HELP_WANTED -> help wanted
# - AI_LABEL_GOOD_FIRST_ISSUE -> good first issue
AI_LABEL_DOCUMENTATION=documentation
AI_LABEL_HELP_WANTED=help wanted
AI_LABEL_GOOD_FIRST_ISSUE=good first issue

# Optional confidence thresholds (0..1) for AI curation labels.
# Fallbacks when empty:
# - AI_LABEL_DOCUMENTATION_CONFIDENCE_THRESHOLD -> 0.9
# - AI_LABEL_HELP_WANTED_CONFIDENCE_THRESHOLD -> 0.9
# - AI_LABEL_GOOD_FIRST_ISSUE_CONFIDENCE_THRESHOLD -> 0.95
AI_LABEL_DOCUMENTATION_CONFIDENCE_THRESHOLD=0.9
AI_LABEL_HELP_WANTED_CONFIDENCE_THRESHOLD=0.9
AI_LABEL_GOOD_FIRST_ISSUE_CONFIDENCE_THRESHOLD=0.95

# Optional confidence thresholds (0..1) for core AI decisions.
# AI_CLASSIFICATION_CONFIDENCE_THRESHOLD applies to semantic kind classification:
# bug | feature | question.
# Fallbacks when empty:
# - AI_CLASSIFICATION_CONFIDENCE_THRESHOLD -> 0.8
# - AI_SENTIMENT_CONFIDENCE_THRESHOLD -> 0.75
# - AI_DUPLICATE_SIMILARITY_THRESHOLD -> 0.85
AI_CLASSIFICATION_CONFIDENCE_THRESHOLD=0.8
AI_SENTIMENT_CONFIDENCE_THRESHOLD=0.75
AI_DUPLICATE_SIMILARITY_THRESHOLD=0.85

# Global timeout override (milliseconds). Applies to all providers if set.
LLM_TIMEOUT=

# --- LangSmith Observability (optional) ---
# LANGSMITH_TRACING=true
# LANGSMITH_API_KEY=your_langsmith_api_key
# LANGSMITH_PROJECT=ai-pr-sentinel
# LANGSMITH_ENDPOINT=https://api.smith.langchain.com
# LANGSMITH_WORKSPACE_ID= # Optional, required for multi-workspace keys

# Provider selection: gemini | groq | ollama
# LLM_PROVIDER=gemini

# --- Gemini ---
# LLM_PROVIDER=gemini
# LLM_API_KEY=your_gemini_api_key
# LLM_MODEL=gemini-2.5-flash-lite
# LLM_BASE_URL=https://generativelanguage.googleapis.com/v1beta
# Note: if LLM_BASE_URL already contains "/models/...", it will be used as-is.
# The adapter adds "/models/${LLM_MODEL}:generateContent" when missing.
# The API key is sent via the "x-goog-api-key" header.

# --- Groq (OpenAI-compatible) ---
# LLM_PROVIDER=groq
# LLM_API_KEY=your_groq_api_key
# LLM_MODEL=openai/gpt-oss-20b
# LLM_BASE_URL=https://api.groq.com/openai/v1/chat/completions
# Note: Groq uses the URL exactly as provided (no path is appended).

# --- Ollama ---
# LLM_PROVIDER=ollama
# LLM_API_KEY=
# LLM_MODEL=llama3.1
# LLM_BASE_URL=http://127.0.0.1:11434/api/generate
# Note: Ollama uses the URL exactly as provided (no path is appended).
# release trigger
